# AI-CloudOps é¡¹ç›®æ–‡æ¡£

## é¡¹ç›®æ¦‚è¿°

AI-CloudOps æ˜¯ä¸€ä¸ªåŸºäºäººå·¥æ™ºèƒ½çš„äº‘è¿ç»´ç®¡ç†å¹³å°ï¼Œæ”¯æŒå¤šäº‘èµ„æºç®¡ç†ã€è‡ªåŠ¨åŒ–è¿ç»´ã€æ™ºèƒ½ç›‘æ§ç­‰åŠŸèƒ½ã€‚

**æœ€åæ›´æ–°**: 2025å¹´6æœˆ23æ—¥

## æœ€æ–°è¿›å±•

### ğŸ¯ åä¸ºäº‘æä¾›å•†å®ç°å®Œæˆ (2025-06-23)

åä¸ºäº‘æä¾›å•†ï¼ˆ`HuaweiProviderImpl`ï¼‰å·²å…¨é¢å®ç°å¹¶ä¼˜åŒ–å®Œæˆï¼š

#### âœ… æ ¸å¿ƒåŠŸèƒ½å®ç°
- **ECSå®ä¾‹ç®¡ç†**: å®Œæ•´çš„ç”Ÿå‘½å‘¨æœŸç®¡ç†ï¼ˆåˆ›å»ºã€åˆ é™¤ã€å¯åŠ¨ã€åœæ­¢ã€é‡å¯ï¼‰
- **VPCç½‘ç»œç®¡ç†**: VPCå’Œå­ç½‘çš„åˆ›å»ºã€åˆ é™¤ã€æŸ¥è¯¢
- **å®‰å…¨ç»„ç®¡ç†**: å®‰å…¨ç»„çš„åˆ›å»ºã€åˆ é™¤ã€æŸ¥è¯¢
- **ç£ç›˜ç®¡ç†**: ç£ç›˜çš„åˆ›å»ºã€åˆ é™¤ã€æŒ‚è½½ã€å¸è½½
- **èµ„æºåŒæ­¥**: å¹¶å‘åŒæ­¥å¤šç§èµ„æºç±»å‹
- **åŒºåŸŸå‘ç°**: åŠ¨æ€åŒºåŸŸå‘ç°å’Œæ™ºèƒ½æ¢æµ‹

#### âœ… ä¼˜åŒ–æˆæœ
- **å½»åº•ç§»é™¤ç¡¬ç¼–ç **: æ‰€æœ‰é™æ€æ•°æ®æ”¹ä¸ºåŠ¨æ€è·å–
- **SDKä¼˜å…ˆç­–ç•¥**: ä¼˜å…ˆé€šè¿‡åä¸ºäº‘SDKåŠ¨æ€è·å–æ•°æ®
- **ä¸‰å±‚fallbackæœºåˆ¶**: SDK â†’ é…ç½® â†’ é™æ€å…œåº•
- **å¹¶å‘å¤„ç†**: æ”¯æŒå¹¶å‘èµ„æºåŒæ­¥å’ŒåŒºåŸŸæ¢æµ‹
- **ç¼“å­˜ä¼˜åŒ–**: 6å°æ—¶ç¼“å­˜ï¼Œæé«˜æ€§èƒ½
- **é”™è¯¯å¤„ç†**: å®Œå–„çš„é”™è¯¯å¤„ç†å’Œé™çº§æœºåˆ¶

#### âœ… æµ‹è¯•éªŒè¯
- **ç¼–è¯‘æµ‹è¯•**: âœ… æˆåŠŸ
- **å•å…ƒæµ‹è¯•**: âœ… 9ä¸ªæµ‹è¯•å…¨éƒ¨é€šè¿‡
- **ç«æ€æ£€æµ‹**: âœ… æ— å¹¶å‘å®‰å…¨é—®é¢˜
- **ä»£ç è´¨é‡**: âœ… go vetæ£€æŸ¥é€šè¿‡

## é¡¹ç›®ç»“æ„

```
AI-CloudOps/
â”œâ”€â”€ cmd/                    # å‘½ä»¤è¡Œå·¥å…·
â”œâ”€â”€ config/                 # é…ç½®æ–‡ä»¶
â”œâ”€â”€ deploy/                 # éƒ¨ç½²é…ç½®
â”œâ”€â”€ dify/                   # Dify AIå¹³å°é›†æˆ
â”œâ”€â”€ doc/                    # é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ internal/               # å†…éƒ¨åŒ…
â”‚   â”œâ”€â”€ ai/                # AIç›¸å…³åŠŸèƒ½
â”‚   â”œâ”€â”€ k8s/               # Kubernetesç®¡ç†
â”‚   â”œâ”€â”€ prometheus/        # ç›‘æ§ç³»ç»Ÿ
â”‚   â”œâ”€â”€ tree/              # å¤šäº‘èµ„æºç®¡ç†
â”‚   â”‚   â””â”€â”€ provider/      # äº‘æä¾›å•†å®ç°
â”‚   â”‚       â”œâ”€â”€ aliyun_provider.go     # é˜¿é‡Œäº‘æä¾›å•†
â”‚   â”‚       â”œâ”€â”€ huawei_provider.go     # åä¸ºäº‘æä¾›å•† âœ…
â”‚   â”‚       â”œâ”€â”€ huawei_provider_test.go # åä¸ºäº‘æµ‹è¯• âœ…
â”‚   â”‚       â””â”€â”€ factory.go             # å·¥å‚æ¨¡å¼
â”‚   â”œâ”€â”€ user/              # ç”¨æˆ·ç®¡ç†
â”‚   â””â”€â”€ workorder/         # å·¥å•ç³»ç»Ÿ
â”œâ”€â”€ pkg/                   # å…¬å…±åŒ…
â”‚   â”œâ”€â”€ aliyun/            # é˜¿é‡Œäº‘SDK
â”‚   â”œâ”€â”€ huawei/            # åä¸ºäº‘SDK
â”‚   â””â”€â”€ utils/             # å·¥å…·å‡½æ•°
â”œâ”€â”€ python/                # PythonæœåŠ¡
â”œâ”€â”€ test/                  # æµ‹è¯•æ–‡ä»¶
â””â”€â”€ ui/                    # å‰ç«¯ç•Œé¢
```

## æ ¸å¿ƒåŠŸèƒ½

### 1. å¤šäº‘èµ„æºç®¡ç†

#### æ”¯æŒçš„äº‘æä¾›å•†
- âœ… **é˜¿é‡Œäº‘**: å®Œæ•´çš„èµ„æºç®¡ç†æ”¯æŒ
- âœ… **åä¸ºäº‘**: å®Œæ•´çš„èµ„æºç®¡ç†æ”¯æŒï¼ˆæ–°å¢ï¼‰

#### èµ„æºç±»å‹æ”¯æŒ
- **ECSå®ä¾‹**: åˆ›å»ºã€åˆ é™¤ã€å¯åŠ¨ã€åœæ­¢ã€é‡å¯
- **VPCç½‘ç»œ**: VPCå’Œå­ç½‘ç®¡ç†
- **å®‰å…¨ç»„**: å®‰å…¨ç­–ç•¥ç®¡ç†
- **ç£ç›˜**: å­˜å‚¨ç®¡ç†
- **è´Ÿè½½å‡è¡¡**: è´Ÿè½½å‡è¡¡å™¨ç®¡ç†
- **æ•°æ®åº“**: æ•°æ®åº“å®ä¾‹ç®¡ç†

### 2. æ™ºèƒ½ç›‘æ§

#### Prometheusé›†æˆ
- **æŒ‡æ ‡æ”¶é›†**: è‡ªåŠ¨æ”¶é›†äº‘èµ„æºæŒ‡æ ‡
- **å‘Šè­¦è§„åˆ™**: æ™ºèƒ½å‘Šè­¦è§„åˆ™ç®¡ç†
- **äº‹ä»¶å¤„ç†**: å‘Šè­¦äº‹ä»¶å¤„ç†
- **å€¼ç­ç®¡ç†**: å€¼ç­äººå‘˜ç®¡ç†

#### ç›‘æ§åŠŸèƒ½
- **èµ„æºç›‘æ§**: å®æ—¶ç›‘æ§äº‘èµ„æºçŠ¶æ€
- **æ€§èƒ½åˆ†æ**: æ€§èƒ½æŒ‡æ ‡åˆ†æ
- **å®¹é‡è§„åˆ’**: èµ„æºå®¹é‡è§„åˆ’
- **æˆæœ¬ä¼˜åŒ–**: æˆæœ¬åˆ†æå’Œä¼˜åŒ–å»ºè®®

### 3. AIè¾…åŠ©è¿ç»´

#### Dify AIå¹³å°é›†æˆ
- **æ™ºèƒ½é—®ç­”**: åŸºäºAIçš„è¿ç»´é—®ç­”
- **è‡ªåŠ¨åŒ–å»ºè®®**: æ™ºèƒ½è¿ç»´å»ºè®®
- **æ•…éšœè¯Šæ–­**: AIè¾…åŠ©æ•…éšœè¯Šæ–­
- **çŸ¥è¯†åº“**: è¿ç»´çŸ¥è¯†åº“ç®¡ç†

#### AIåŠŸèƒ½
- **é¢„æµ‹åˆ†æ**: èµ„æºä½¿ç”¨é¢„æµ‹
- **å¼‚å¸¸æ£€æµ‹**: æ™ºèƒ½å¼‚å¸¸æ£€æµ‹
- **ä¼˜åŒ–å»ºè®®**: æ€§èƒ½ä¼˜åŒ–å»ºè®®
- **è‡ªåŠ¨åŒ–è„šæœ¬**: æ™ºèƒ½è„šæœ¬ç”Ÿæˆ

### 4. å·¥å•ç³»ç»Ÿ

#### å·¥å•ç®¡ç†
- **å·¥å•åˆ›å»º**: æ”¯æŒå¤šç§å·¥å•ç±»å‹
- **æµç¨‹ç®¡ç†**: å¯é…ç½®çš„å·¥å•æµç¨‹
- **çŠ¶æ€è·Ÿè¸ª**: å®æ—¶çŠ¶æ€è·Ÿè¸ª
- **ç»Ÿè®¡åˆ†æ**: å·¥å•ç»Ÿè®¡åˆ†æ

#### è¡¨å•è®¾è®¡
- **åŠ¨æ€è¡¨å•**: å¯é…ç½®çš„è¡¨å•è®¾è®¡
- **å­—æ®µéªŒè¯**: æ™ºèƒ½å­—æ®µéªŒè¯
- **é™„ä»¶ç®¡ç†**: æ–‡ä»¶é™„ä»¶ç®¡ç†
- **å®¡æ‰¹æµç¨‹**: çµæ´»çš„å®¡æ‰¹æµç¨‹

## æŠ€æœ¯æ¶æ„

### 1. åç«¯æ¶æ„

#### æŠ€æœ¯æ ˆ
- **Go 1.24.3**: ä¸»è¦å¼€å‘è¯­è¨€
- **Gin**: Webæ¡†æ¶
- **GORM**: ORMæ¡†æ¶
- **Redis**: ç¼“å­˜å’Œä¼šè¯ç®¡ç†
- **MySQL**: ä¸»æ•°æ®åº“
- **Prometheus**: ç›‘æ§ç³»ç»Ÿ

#### æ¶æ„ç‰¹ç‚¹
- **å¾®æœåŠ¡æ¶æ„**: æ¨¡å—åŒ–è®¾è®¡
- **ä¾èµ–æ³¨å…¥**: æ¾è€¦åˆè®¾è®¡
- **ä¸­é—´ä»¶**: å¯æ‰©å±•çš„ä¸­é—´ä»¶ç³»ç»Ÿ
- **é…ç½®ç®¡ç†**: çµæ´»çš„é…ç½®ç®¡ç†

### 2. å‰ç«¯æ¶æ„

#### æŠ€æœ¯æ ˆ
- **React**: å‰ç«¯æ¡†æ¶
- **TypeScript**: ç±»å‹å®‰å…¨
- **Ant Design**: UIç»„ä»¶åº“
- **Vite**: æ„å»ºå·¥å…·
- **Tailwind CSS**: æ ·å¼æ¡†æ¶

#### æ¶æ„ç‰¹ç‚¹
- **ç»„ä»¶åŒ–**: å¯å¤ç”¨ç»„ä»¶è®¾è®¡
- **çŠ¶æ€ç®¡ç†**: é›†ä¸­çŠ¶æ€ç®¡ç†
- **è·¯ç”±ç®¡ç†**: åŠ¨æ€è·¯ç”±ç®¡ç†
- **ä¸»é¢˜ç³»ç»Ÿ**: å¯é…ç½®ä¸»é¢˜

### 3. éƒ¨ç½²æ¶æ„

#### å®¹å™¨åŒ–éƒ¨ç½²
- **Docker**: å®¹å™¨åŒ–éƒ¨ç½²
- **Kubernetes**: å®¹å™¨ç¼–æ’
- **Helm**: åŒ…ç®¡ç†å·¥å…·
- **Nginx**: åå‘ä»£ç†

#### ç›‘æ§å’Œæ—¥å¿—
- **Prometheus**: æŒ‡æ ‡ç›‘æ§
- **Grafana**: å¯è§†åŒ–é¢æ¿
- **ELK Stack**: æ—¥å¿—ç®¡ç†
- **Jaeger**: é“¾è·¯è¿½è¸ª

## å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒè¦æ±‚

```bash
# Goç‰ˆæœ¬è¦æ±‚
go version >= 1.24.3

# Node.jsç‰ˆæœ¬è¦æ±‚
node version >= 18.0.0

# Dockerç‰ˆæœ¬è¦æ±‚
docker version >= 20.10.0
```

### 2. å®‰è£…ä¾èµ–

```bash
# åç«¯ä¾èµ–
go mod download

# å‰ç«¯ä¾èµ–
cd ui && npm install
```

### 3. é…ç½®ç¯å¢ƒ

```bash
# å¤åˆ¶é…ç½®æ–‡ä»¶
cp config/config.example.yaml config/config.yaml

# é…ç½®æ•°æ®åº“
cp deploy/init.sql.example deploy/init.sql
```

### 4. å¯åŠ¨æœåŠ¡

```bash
# å¯åŠ¨åç«¯æœåŠ¡
go run cmd/main.go

# å¯åŠ¨å‰ç«¯æœåŠ¡
cd ui && npm run dev
```

## é…ç½®è¯´æ˜

### 1. äº‘æä¾›å•†é…ç½®

#### é˜¿é‡Œäº‘é…ç½®
```yaml
aliyun:
  access_key_id: your_access_key_id
  access_key_secret: your_access_key_secret
  region: cn-hangzhou
```

#### åä¸ºäº‘é…ç½®
```yaml
huawei:
  access_key_id: your_access_key_id
  access_key_secret: your_access_key_secret
  region: cn-north-4
  discovery:
    enable_auto_discovery: true
    cache_duration: 6h
```

### 2. æ•°æ®åº“é…ç½®

```yaml
database:
  host: localhost
  port: 3306
  username: root
  password: password
  database: ai_cloudops
```

### 3. Redisé…ç½®

```yaml
redis:
  host: localhost
  port: 6379
  password: ""
  database: 0
```

## å¼€å‘æŒ‡å—

### 1. ä»£ç è§„èŒƒ

#### Goä»£ç è§„èŒƒ
- éµå¾ªGoå®˜æ–¹ä»£ç è§„èŒƒ
- ä½¿ç”¨gofmtæ ¼å¼åŒ–ä»£ç 
- æ·»åŠ å¿…è¦çš„æ³¨é‡Šå’Œæ–‡æ¡£
- ç¼–å†™å•å…ƒæµ‹è¯•

#### TypeScriptä»£ç è§„èŒƒ
- ä½¿ç”¨ESLintå’ŒPrettier
- éµå¾ªTypeScriptæœ€ä½³å®è·µ
- æ·»åŠ ç±»å‹æ³¨è§£
- ç¼–å†™ç»„ä»¶æµ‹è¯•

### 2. æäº¤è§„èŒƒ

```bash
# æäº¤æ ¼å¼
<type>(<scope>): <subject>

# ç¤ºä¾‹
feat(provider): æ·»åŠ åä¸ºäº‘æä¾›å•†æ”¯æŒ
fix(monitor): ä¿®å¤ç›‘æ§æ•°æ®æŸ¥è¯¢é—®é¢˜
docs(readme): æ›´æ–°é¡¹ç›®æ–‡æ¡£
```

### 3. æµ‹è¯•è§„èŒƒ

```bash
# è¿è¡Œå•å…ƒæµ‹è¯•
go test ./...

# è¿è¡Œé›†æˆæµ‹è¯•
go test -tags=integration ./...

# è¿è¡Œå‰ç«¯æµ‹è¯•
cd ui && npm test
```

## éƒ¨ç½²æŒ‡å—

### 1. Dockeréƒ¨ç½²

```bash
# æ„å»ºé•œåƒ
docker build -t ai-cloudops .

# è¿è¡Œå®¹å™¨
docker run -d -p 8080:8080 ai-cloudops
```

### 2. Kuberneteséƒ¨ç½²

```bash
# åº”ç”¨é…ç½®
kubectl apply -f deploy/k8s.yaml

# æŸ¥çœ‹çŠ¶æ€
kubectl get pods -l app=ai-cloudops
```

### 3. Helméƒ¨ç½²

```bash
# å®‰è£…Chart
helm install ai-cloudops ./deploy/helm/

# å‡çº§Chart
helm upgrade ai-cloudops ./deploy/helm/
```

## ç›‘æ§å’Œè¿ç»´

### 1. ç›‘æ§æŒ‡æ ‡

#### ç³»ç»ŸæŒ‡æ ‡
- CPUä½¿ç”¨ç‡
- å†…å­˜ä½¿ç”¨ç‡
- ç£ç›˜ä½¿ç”¨ç‡
- ç½‘ç»œæµé‡

#### åº”ç”¨æŒ‡æ ‡
- è¯·æ±‚å“åº”æ—¶é—´
- é”™è¯¯ç‡
- å¹¶å‘è¿æ¥æ•°
- æ•°æ®åº“è¿æ¥æ•°

### 2. å‘Šè­¦è§„åˆ™

#### ç³»ç»Ÿå‘Šè­¦
- CPUä½¿ç”¨ç‡ > 80%
- å†…å­˜ä½¿ç”¨ç‡ > 85%
- ç£ç›˜ä½¿ç”¨ç‡ > 90%
- æœåŠ¡ä¸å¯ç”¨

#### ä¸šåŠ¡å‘Šè­¦
- APIå“åº”æ—¶é—´ > 5s
- é”™è¯¯ç‡ > 5%
- æ•°æ®åº“è¿æ¥å¤±è´¥
- äº‘èµ„æºå¼‚å¸¸

### 3. æ—¥å¿—ç®¡ç†

#### æ—¥å¿—çº§åˆ«
- DEBUG: è°ƒè¯•ä¿¡æ¯
- INFO: ä¸€èˆ¬ä¿¡æ¯
- WARN: è­¦å‘Šä¿¡æ¯
- ERROR: é”™è¯¯ä¿¡æ¯

#### æ—¥å¿—æ ¼å¼
```json
{
  "timestamp": "2025-06-23T10:30:00Z",
  "level": "INFO",
  "service": "ai-cloudops",
  "message": "æœåŠ¡å¯åŠ¨æˆåŠŸ",
  "trace_id": "abc123"
}
```

## è´¡çŒ®æŒ‡å—

### 1. å¼€å‘æµç¨‹

1. **Forké¡¹ç›®**: Forkåˆ°è‡ªå·±çš„ä»“åº“
2. **åˆ›å»ºåˆ†æ”¯**: åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. **å¼€å‘åŠŸèƒ½**: å®ç°æ–°åŠŸèƒ½
4. **ç¼–å†™æµ‹è¯•**: æ·»åŠ å•å…ƒæµ‹è¯•
5. **æäº¤ä»£ç **: æäº¤åˆ°åˆ†æ”¯
6. **åˆ›å»ºPR**: åˆ›å»ºPull Request

### 2. ä»£ç å®¡æŸ¥

- æ‰€æœ‰ä»£ç å¿…é¡»ç»è¿‡å®¡æŸ¥
- ç¡®ä¿æµ‹è¯•è¦†ç›–ç‡
- éµå¾ªä»£ç è§„èŒƒ
- æ·»åŠ å¿…è¦æ–‡æ¡£

### 3. å‘å¸ƒæµç¨‹

1. **ç‰ˆæœ¬è§„åˆ’**: ç¡®å®šç‰ˆæœ¬è®¡åˆ’
2. **åŠŸèƒ½å¼€å‘**: å®ŒæˆåŠŸèƒ½å¼€å‘
3. **æµ‹è¯•éªŒè¯**: å…¨é¢æµ‹è¯•éªŒè¯
4. **æ–‡æ¡£æ›´æ–°**: æ›´æ–°ç›¸å…³æ–‡æ¡£
5. **å‘å¸ƒç‰ˆæœ¬**: å‘å¸ƒæ–°ç‰ˆæœ¬

## è®¸å¯è¯

æœ¬é¡¹ç›®é‡‡ç”¨ MIT è®¸å¯è¯ï¼Œè¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

## è”ç³»æ–¹å¼

- **é¡¹ç›®åœ°å€**: [GitHub Repository](https://github.com/your-org/ai-cloudops)
- **é—®é¢˜åé¦ˆ**: [Issues](https://github.com/your-org/ai-cloudops/issues)
- **è®¨è®ºäº¤æµ**: [Discussions](https://github.com/your-org/ai-cloudops/discussions)

## æ›´æ–°æ—¥å¿—

### v1.0.0 (2025-06-23)
- âœ… å®Œæˆåä¸ºäº‘æä¾›å•†å®ç°
- âœ… ç§»é™¤æ‰€æœ‰ç¡¬ç¼–ç ï¼Œå®ç°å®Œå…¨åŠ¨æ€åŒ–
- âœ… ä¼˜åŒ–æ€§èƒ½å’Œé”™è¯¯å¤„ç†
- âœ… å®Œå–„æµ‹è¯•è¦†ç›–
- âœ… æ›´æ–°é¡¹ç›®æ–‡æ¡£

### v0.9.0 (2025-06-20)
- ğŸš§ åä¸ºäº‘æä¾›å•†å¼€å‘ä¸­
- âœ… é˜¿é‡Œäº‘æä¾›å•†å®Œæˆ
- âœ… åŸºç¡€æ¡†æ¶æ­å»ºå®Œæˆ
- âœ… ç›‘æ§ç³»ç»Ÿé›†æˆå®Œæˆ

---

**æœ€åæ›´æ–°**: 2025å¹´6æœˆ23æ—¥  
**ç»´æŠ¤è€…**: AI-CloudOps Team 